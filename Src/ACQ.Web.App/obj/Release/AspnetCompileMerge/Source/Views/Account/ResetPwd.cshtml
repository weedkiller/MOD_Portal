
@model ACQ.Web.ViewModel.User.ChangePasswordViewModel
@{ ViewBag.Title = "ResetPwd";
    Layout = "~/Views/Shared/_Layout.cshtml"; }
<style>
    form {
        width: 100%;
    }
</style>
<div class="mt-3 container-fluid" ">


    <div class="login_bg">
        @using (Html.BeginForm("ResetPwd", "Account", FormMethod.Post, htmlAttributes: new { autocomplete = "off", enctype = "multipart/form-data" }))
        {
@Html.AntiForgeryToken()

                <section class="container d-flex justify-content-center align-items-center  pb-4 loginBox" style="flex: 1 0 auto;">
                    <div class="col-md-8">
                        <div class="cs-signin-form mt-5" style="min-height:458px !important; margin-bottom:0px!important;">
                            <div class="cs-signin-form-inner p-4" style="background: white;">
                                <div class="cs-view show p-3">
                                    <h1 class="h2 text-center" style=" color: #3f80ea !important">Change Password </h1>
                                    <hr />
                                    @Html.ValidationSummary()
                                    @*<div class="w-100 text-center invalidmsg" style="font-weight:bold;color:red; display:none;" id="dvMsg">*@

                                </div>
                                <form class="needs-validation" id="#myform" novalidate>
                                    <div class="pl-2 pr-2">
                                        <label for="old password"> Email<span class="required">*</span></label>

                                        @Html.TextBoxFor(Model => Model.EmailID, new { @class = " form-control bb", required = "required", tabindex = "1", autofocus = "autofocus" , @readonly = "readonly" })
                                        @Html.ValidationMessageFor(m => m.EmailID, "", new { @class = "text-danger float-left gg" })
                                        <p style="font-weight:bold;color:red;">@ViewBag.Msg</p>
                                    </div>
                                    <button class="btn btn-primary btn-block mt-4 text-center" id="btnsubmit" type="submit" value="submit">Reset Password</button>

                                </form>
                            </div>
                        </div>
                    </div>

                </section>}

    </div>

</div>

<script>
    function CheckPassword() {

        var decimal = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{8,15}$/;
        if (ConfirmPassword.value.match(decimal)) {
            debugger;

            var OldPassword = Password.value;
            var NewPassword = ConfirmPassword.value;

            window.location.href = "/User/ChangePassword?OldPassword=" + OldPassword + "&NewPassword=" + NewPassword;
            return true;
        }
        else {
            alert('To check a password between 8 to 15 characters which contain at least one lowercase letter, one uppercase letter, one numeric digit, and one special character')
            return false;
        }
    }
</script>
